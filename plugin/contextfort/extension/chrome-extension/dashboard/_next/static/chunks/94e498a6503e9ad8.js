(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4461,115,e=>{"use strict";var t=e.i(45976),s=e.i(83603),a=e.i(30300),r=e.i(17008),n=e.i(3736);let i=(0,r.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden font-jetbrains",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let r,l,o,c,d,u,m=(0,s.c)(12);m[0]!==e?({className:r,variant:c,asChild:o,...l}=e,m[0]=e,m[1]=r,m[2]=l,m[3]=o,m[4]=c):(r=m[1],l=m[2],o=m[3],c=m[4]);let h=void 0!==o&&o?a.Slot.Slot:"span";return m[5]!==r||m[6]!==c?(d=(0,n.cn)(i({variant:c}),r),m[5]=r,m[6]=c,m[7]=d):d=m[7],m[8]!==h||m[9]!==l||m[10]!==d?(u=(0,t.jsx)(h,{"data-slot":"badge",className:d,...l}),m[8]=h,m[9]=l,m[10]=d,m[11]=u):u=m[11],u}function o(e){let a,r,i,l,o=(0,s.c)(8);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,n.cn)("w-full caption-bottom text-sm",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(l=(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:i,...r})}),o[5]=r,o[6]=i,o[7]=l):l=o[7],l}function c(e){let a,r,i,l,o=(0,s.c)(8);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,n.cn)("[&_tr]:border-b",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(l=(0,t.jsx)("thead",{"data-slot":"table-header",className:i,...r}),o[5]=r,o[6]=i,o[7]=l):l=o[7],l}function d(e){let a,r,i,l,o=(0,s.c)(8);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,n.cn)("[&_tr:last-child]:border-0",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(l=(0,t.jsx)("tbody",{"data-slot":"table-body",className:i,...r}),o[5]=r,o[6]=i,o[7]=l):l=o[7],l}function u(e){let a,r,i,l,o=(0,s.c)(8);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(l=(0,t.jsx)("tr",{"data-slot":"table-row",className:i,...r}),o[5]=r,o[6]=i,o[7]=l):l=o[7],l}function m(e){let a,r,i,l,o=(0,s.c)(8);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,n.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(l=(0,t.jsx)("th",{"data-slot":"table-head",className:i,...r}),o[5]=r,o[6]=i,o[7]=l):l=o[7],l}function h(e){let a,r,i,l,o=(0,s.c)(8);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(l=(0,t.jsx)("td",{"data-slot":"table-cell",className:i,...r}),o[5]=r,o[6]=i,o[7]=l):l=o[7],l}e.s(["Badge",()=>l],4461),e.s(["Table",()=>o,"TableBody",()=>d,"TableCell",()=>h,"TableHead",()=>m,"TableHeader",()=>c,"TableRow",()=>u],115)},69716,e=>{"use strict";let t=(0,e.i(64192).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCwIcon",()=>t],69716)},74596,e=>{"use strict";let t=(0,e.i(64192).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDownIcon",()=>t],74596)},19213,e=>{"use strict";var t=e.i(45976),s=e.i(83603),a=e.i(75289),r=e.i(40300),n=e.i(3736);function i(e){let r,n,i=(0,s.c)(4);return i[0]!==e?({...r}=e,i[0]=e,i[1]=r):r=i[1],i[2]!==r?(n=(0,t.jsx)(a.Dialog.Root,{"data-slot":"dialog",...r}),i[2]=r,i[3]=n):n=i[3],n}function l(e){let r,n,i=(0,s.c)(4);return i[0]!==e?({...r}=e,i[0]=e,i[1]=r):r=i[1],i[2]!==r?(n=(0,t.jsx)(a.Dialog.Trigger,{"data-slot":"dialog-trigger",...r}),i[2]=r,i[3]=n):n=i[3],n}function o(e){let r,n,i=(0,s.c)(4);return i[0]!==e?({...r}=e,i[0]=e,i[1]=r):r=i[1],i[2]!==r?(n=(0,t.jsx)(a.Dialog.Portal,{"data-slot":"dialog-portal",...r}),i[2]=r,i[3]=n):n=i[3],n}function c(e){let r,i,l,o,c=(0,s.c)(8);return c[0]!==e?({className:r,...i}=e,c[0]=e,c[1]=r,c[2]=i):(r=c[1],i=c[2]),c[3]!==r?(l=(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),c[3]=r,c[4]=l):l=c[4],c[5]!==i||c[6]!==l?(o=(0,t.jsx)(a.Dialog.Overlay,{"data-slot":"dialog-overlay",className:l,...i}),c[5]=i,c[6]=l,c[7]=o):o=c[7],o}function d(e){let i,l,d,u,m,h,x,f,g=(0,s.c)(15);g[0]!==e?({className:l,children:i,showCloseButton:u,...d}=e,g[0]=e,g[1]=i,g[2]=l,g[3]=d,g[4]=u):(i=g[1],l=g[2],d=g[3],u=g[4]);let b=void 0===u||u;return g[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(c,{}),g[5]=m):m=g[5],g[6]!==l?(h=(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",l),g[6]=l,g[7]=h):h=g[7],g[8]!==b?(x=b&&(0,t.jsxs)(a.Dialog.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(r.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),g[8]=b,g[9]=x):x=g[9],g[10]!==i||g[11]!==d||g[12]!==h||g[13]!==x?(f=(0,t.jsxs)(o,{"data-slot":"dialog-portal",children:[m,(0,t.jsxs)(a.Dialog.Content,{"data-slot":"dialog-content",className:h,...d,children:[i,x]})]}),g[10]=i,g[11]=d,g[12]=h,g[13]=x,g[14]=f):f=g[14],f}e.s(["Dialog",()=>i,"DialogContent",()=>d,"DialogTrigger",()=>l])},9698,e=>{"use strict";var t=e.i(72469);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},50016,e=>{"use strict";var t=e.i(45976),s=e.i(83603),a=e.i(72469),r=e.i(63087),n=e.i(77466),i=e.i(18659),l=e.i(60432),o=e.i(9698),c=e.i(33909);e.i(3577);var d=e.i(7379),u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=(0,d.createSlot)(`Primitive.${s}`),n=a.forwardRef((e,a)=>{let{asChild:n,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?r:s,{...i,ref:a})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),m="Switch",[h,x]=(0,i.createContextScope)(m),[f,g]=h(m),b=a.forwardRef((e,s)=>{let{__scopeSwitch:i,name:o,checked:c,defaultChecked:d,required:h,disabled:x,value:g="on",onCheckedChange:b,form:p,...v}=e,[N,y]=a.useState(null),k=(0,n.useComposedRefs)(s,e=>y(e)),C=a.useRef(!1),T=!N||p||!!N.closest("form"),[S,R]=(0,l.useControllableState)({prop:c,defaultProp:d??!1,onChange:b,caller:m});return(0,t.jsxs)(f,{scope:i,checked:S,disabled:x,children:[(0,t.jsx)(u.button,{type:"button",role:"switch","aria-checked":S,"aria-required":h,"data-state":w(S),"data-disabled":x?"":void 0,disabled:x,value:g,...v,ref:k,onClick:(0,r.composeEventHandlers)(e.onClick,e=>{R(e=>!e),T&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),T&&(0,t.jsx)(j,{control:N,bubbles:!C.current,name:o,value:g,checked:S,required:h,disabled:x,form:p,style:{transform:"translateX(-100%)"}})]})});b.displayName=m;var p="SwitchThumb",v=a.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,n=g(p,a);return(0,t.jsx)(u.span,{"data-state":w(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});v.displayName=p;var j=a.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:i=!0,...l},d)=>{let u=a.useRef(null),m=(0,n.useComposedRefs)(u,d),h=(0,o.usePrevious)(r),x=(0,c.useSize)(s);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==r&&t){let s=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(s)}},[h,r,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:m,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput",e.s(["Root",()=>b,"Switch",()=>b,"SwitchThumb",()=>v,"Thumb",()=>v,"createSwitchScope",()=>x],82457);var N=e.i(82457),N=N,y=e.i(3736);function k(e){let a,r,n,i,l,o=(0,s.c)(9);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(n=(0,y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),o[3]=a,o[4]=n):n=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(N.Thumb,{"data-slot":"switch-thumb",className:(0,y.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),o[5]=i):i=o[5],o[6]!==r||o[7]!==n?(l=(0,t.jsx)(N.Root,{"data-slot":"switch",className:n,...r,children:i}),o[6]=r,o[7]=n,o[8]=l):l=o[8],l}e.s(["Switch",()=>k],50016)},21327,e=>{"use strict";let t=(0,e.i(64192).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLinkIcon",()=>t],21327)},93569,e=>{"use strict";let t=(0,e.i(64192).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["LinkIcon",()=>t],93569)},42744,e=>{"use strict";var t=e.i(45976),s=e.i(4461),a=e.i(99570),r=e.i(65049),n=e.i(115),i=e.i(19213),l=e.i(50016),o=e.i(93569),c=e.i(69716),d=e.i(74596),u=e.i(31834),m=e.i(21327),h=e.i(72469);function x(){let[e,x]=(0,h.useState)([]),[f,g]=(0,h.useState)([]),[b,p]=(0,h.useState)(!1),[v,j]=(0,h.useState)(new Set),[w,N]=(0,h.useState)("cross-domain"),[y,k]=(0,h.useState)("all"),[C,T]=(0,h.useState)({}),[S,R]=(0,h.useState)([]);(0,h.useEffect)(()=>{document.title="Context Mixing - ContextFort"},[]);let U=async(e=!1)=>{e&&p(!0);try{if("undefined"!=typeof chrome&&chrome?.storage){let e=await chrome.storage.local.get(["screenshots","sessions","urlPairBlockingRules"]),t=e.screenshots||[],s=e.sessions||[],a=e.urlPairBlockingRules||[],r=s.reduce((e,t)=>(e.find(e=>e.id===t.id)||e.push(t),e),[]);x(t),g(r),R(a)}}catch(e){console.error("[Controls Page] Error loading data:",e)}e&&p(!1)};(0,h.useEffect)(()=>{U()},[]);let D=new Map;f.forEach(t=>{let s=t.visitedUrls||[];if(!(s.length<2))for(let a=0;a<s.length-1;a++){let r=s[a],n=s[a+1];if(r===n)continue;let i=`${r}|||${n}`;try{let s=new URL(r).hostname,a=new URL(n).hostname,l=e.filter(e=>e.sessionId===t.id&&e.url===n).some(e=>"click"===e.eventType||"input"===e.eventType);D.has(i)||D.set(i,{fromUrl:r,toUrl:n,fromHostname:s,toHostname:a,transitionCount:0,hasInteraction:l,sessions:new Map});let o=D.get(i);o.sessions.has(t.id)||o.sessions.set(t.id,{sessionId:t.id,sessionTitle:t.tabTitle||"Unknown Page",sessionStatus:t.status,sessionStartTime:t.startTime,transitionCount:0,firstTransition:t.startTime,lastTransition:t.startTime});let c=o.sessions.get(t.id);o.transitionCount++,c.transitionCount++}catch(e){console.error("[URL Logs] Error processing transition:",e)}}});let I=Array.from(D.values()).sort((e,t)=>t.transitionCount-e.transitionCount),L=I.filter(e=>{let t=e.fromHostname!==e.toHostname;return"cross-domain"===w?t:"same-domain"!==w||!t}),H=L.filter(e=>("with-interaction"!==y||!!e.hasInteraction)&&("page-read-only"!==y||!e.hasInteraction)),B=(e,t)=>{let s=t.currentTarget;T(t=>({...t,[e]:{width:s.naturalWidth,height:s.naturalHeight}}))},P=e=>{let t=new Set(v);t.has(e)?t.delete(e):t.add(e),j(t)},E=(e,t)=>S.some(([s,a])=>e===s&&t===a||e===a&&t===s),z=async(e,t)=>{let s;R(s=E(e,t)?S.filter(([s,a])=>{let r=e===s&&t===a,n=e===a&&t===s;return!(r||n)}):[...S,[e,t]]),"undefined"!=typeof chrome&&chrome?.storage&&(await chrome.storage.local.set({urlPairBlockingRules:s}),chrome.runtime.sendMessage({type:"RELOAD_URL_PAIR_RULES",rules:s}))};return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Context Mixing"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Track URL navigation patterns and transitions across sessions"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>U(!0),children:[(0,t.jsx)(c.RefreshCwIcon,{className:"mr-2 h-4 w-4"}),"Refresh"]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Domain:"}),(0,t.jsxs)(a.Button,{variant:"cross-domain"===w?"default":"outline",size:"sm",onClick:()=>N("cross-domain"),children:["Cross Domain (",I.filter(e=>e.fromHostname!==e.toHostname).length,")"]}),(0,t.jsxs)(a.Button,{variant:"same-domain"===w?"default":"outline",size:"sm",onClick:()=>N("same-domain"),children:["Same Domain (",I.filter(e=>e.fromHostname===e.toHostname).length,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Interaction:"}),(0,t.jsxs)(a.Button,{variant:"all"===y?"default":"outline",size:"sm",onClick:()=>k("all"),children:["All (",L.length,")"]}),(0,t.jsxs)(a.Button,{variant:"with-interaction"===y?"default":"outline",size:"sm",onClick:()=>k("with-interaction"),children:["With Interaction (",L.filter(e=>e.hasInteraction).length,")"]}),(0,t.jsxs)(a.Button,{variant:"page-read-only"===y?"default":"outline",size:"sm",onClick:()=>k("page-read-only"),children:["Page Read Only (",L.filter(e=>!e.hasInteraction).length,")"]})]})]}),b?(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"py-12",children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)(c.RefreshCwIcon,{className:"mr-2 h-5 w-5 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading URL logs..."})]})})}):0===I.length?(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(o.LinkIcon,{className:"mb-4 h-12 w-12 text-muted-foreground/50"}),(0,t.jsx)("h3",{className:"mb-2 text-lg font-medium",children:"No URL transitions yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Navigation patterns will appear when multiple URLs are visited in a session"})]})})}):0===H.length?(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(o.LinkIcon,{className:"mb-4 h-12 w-12 text-muted-foreground/50"}),(0,t.jsx)("h3",{className:"mb-2 text-lg font-medium",children:"No transitions match the current filters"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try adjusting the domain or interaction filters"})]})})}):(0,t.jsx)("div",{className:"rounded-md border border-border",children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsxs)(n.TableRow,{className:"hover:bg-transparent border-b border-border",children:[(0,t.jsx)(n.TableHead,{className:"w-[20%]",children:"Domain"}),(0,t.jsx)(n.TableHead,{className:"w-[25%]",children:"From"}),(0,t.jsx)(n.TableHead,{className:"w-[25%]",children:"To"}),(0,t.jsx)(n.TableHead,{className:"w-[10%] text-center",children:"Count"}),(0,t.jsx)(n.TableHead,{className:"w-[15%] text-center",children:"Block"}),(0,t.jsx)(n.TableHead,{className:"w-[5%] text-center"})]})}),(0,t.jsx)(n.TableBody,{children:H.map((r,o)=>{let c=r.fromHostname!==r.toHostname,x=`${r.fromUrl}|||${r.toUrl}`,g=v.has(x),b=e.filter(e=>e.url===r.toUrl&&e.sessionId).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return Array.from(r.sessions.values()).sort((e,t)=>new Date(t.sessionStartTime).getTime()-new Date(e.sessionStartTime).getTime())[0],(0,t.jsxs)(h.Fragment,{children:[(0,t.jsxs)(n.TableRow,{className:"border-b border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>P(x),children:[(0,t.jsx)(n.TableCell,{children:(0,t.jsx)(s.Badge,{variant:"outline",className:c?"bg-orange-500/10 text-orange-500 border-orange-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20",children:c?r.fromHostname+" â†’ "+r.toHostname:r.fromHostname})}),(0,t.jsx)(n.TableCell,{children:(0,t.jsx)("div",{className:"text-sm truncate",title:r.fromUrl,children:r.fromUrl})}),(0,t.jsx)(n.TableCell,{children:(0,t.jsx)("div",{className:"text-sm truncate",title:r.toUrl,children:r.toUrl})}),(0,t.jsx)(n.TableCell,{className:"text-center",children:(0,t.jsx)(s.Badge,{variant:"outline",className:"bg-muted text-foreground border-border",children:r.transitionCount})}),(0,t.jsx)(n.TableCell,{className:"text-center",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(l.Switch,{checked:E(r.fromUrl,r.toUrl),onCheckedChange:()=>z(r.fromUrl,r.toUrl)}),(0,t.jsx)(s.Badge,{variant:"outline",className:E(r.fromUrl,r.toUrl)?"bg-red-500/10 text-red-500 border-red-500/20 text-xs":"bg-green-500/10 text-green-500 border-green-500/20 text-xs",children:E(r.fromUrl,r.toUrl)?"BLOCKED":"ACTIVE"})]})}),(0,t.jsx)(n.TableCell,{className:"text-center",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>P(x),disabled:0===b.length,children:g?(0,t.jsx)(d.ChevronDownIcon,{className:"h-4 w-4"}):(0,t.jsx)(u.ChevronRightIcon,{className:"h-4 w-4"})})})]}),g&&b.length>0&&(0,t.jsx)(n.TableRow,{className:"bg-muted/30 hover:bg-muted/30",children:(0,t.jsx)(n.TableCell,{colSpan:5,className:"p-0",children:(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium",children:["Screenshots (",b.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4",children:b.map((e,s)=>{let r;return f.find(t=>t.id===e.sessionId),(0,t.jsxs)(i.Dialog,{children:[(0,t.jsx)(i.DialogTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:"w-[350px] bg-card rounded-lg border border-border overflow-hidden flex flex-col cursor-pointer hover:border-muted-foreground transition-colors",children:[(0,t.jsxs)("div",{className:"relative w-full h-[200px] bg-muted",children:[e.dataUrl?(0,t.jsx)("img",{src:e.dataUrl,alt:`Screenshot ${e.id}`,className:"w-full h-full object-cover",onLoad:t=>B(e.id,t)}):(0,t.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,t.jsx)("span",{className:"text-4xl mb-2",children:"ðŸ“„"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-muted-foreground",children:"Page Read"})]}),(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-blue-500 text-white text-xs px-2 py-1 rounded",children:e.eventType||"Navigation"})]}),(0,t.jsxs)("div",{className:"p-3 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:(r=e.timestamp,`${new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})} ${new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}`)}),(0,t.jsx)("div",{className:"text-xs font-medium text-foreground truncate mb-1",title:e.title,children:e.title}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground truncate mb-2",title:e.url,children:e.url}),e.sessionId&&(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",className:"mt-auto h-7 text-xs",onClick:t=>{t.stopPropagation(),window.location.href=`/dashboard/visibility?session=${e.sessionId}`},children:[(0,t.jsx)(m.ExternalLinkIcon,{className:"mr-1 h-3 w-3"}),"View Session"]})]})]})}),(0,t.jsx)(i.DialogContent,{className:"max-w-[90vw] max-h-[90vh] p-4",children:(0,t.jsx)("div",{className:"relative",children:e.dataUrl?(0,t.jsx)("img",{src:e.dataUrl,alt:`Screenshot ${e.id}`,className:"w-full h-full object-contain",onLoad:t=>B(e.id,t)}):(0,t.jsxs)("div",{className:"w-full h-[400px] flex flex-col items-center justify-center bg-muted",children:[(0,t.jsx)("span",{className:"text-6xl mb-4",children:"ðŸ“„"}),(0,t.jsx)("span",{className:"text-lg font-semibold text-muted-foreground",children:"Page Read Event"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground/60 mt-2",children:"No screenshot available"})]})})})]},e.id)})})]})})})]},x)})})]})})]})}e.s(["default",()=>x])}]);